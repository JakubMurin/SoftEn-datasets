<useCase id="UC001">
    <name>Process Online Payment</name>
    <actors>
        <actor>用户</actor>
        <actor>商户系统后台</actor>
        <actor>微信客户端</actor>
        <actor>微信支付系统</actor>
    </actors>
    <mainSequence>
        <step id="S1">Initiate platform order and payment request</step>
        <step id="S2">Generate platform order</step>
        <step id="S3">Request order creation with payment system</step>
        <step id="S4">Generate prepayment invoice</step>
        <step id="S5">Receive prepayment invoice confirmation from merchant system</step>
        <step id="S6">Generate signed payment information</step>
        <step id="S7">Initiate payment with merchant system</step>
        <step id="S8">Launch payment process on WeChat client</step>
        <step id="S9">Initiate payment request with WeChat Pay system</step>
        <step id="S10">Validate payment authorization permissions</step>
        <step id="S11">Respond with payment authorization details to WeChat client</step>
        <step id="S12">Confirm payment and enter password</step>
        <step id="S13">Submit payment authorization to WeChat Pay system</step>
        <step id="S14">Validate payment process authorization</step>
        <step id="S15">Notify platform with payment completion status</step>
        <step id="S16">Save payment notification</step>
        <step id="S17">Inform complete processing acknowledgement</step>
        <step id="S18">Return payment status result and notify user</step>
        <step id="S19">Execute payment state inquiry</step>
        <step id="S20">Retrieve payment results by calling the query interface</step>
        <step id="S21">Return payment details</step>
        <step id="S22">Display payment message to user</step>
    </mainSequence>
</useCase>
