<useCase id="UC001">
    <name>Authenticate User</name>
    <actors>
        <actor>Anwender:in</actor>
        <actor>Fachlogik</actor>
        <actor>Authenticator</actor>
        <actor>Fachdienst</actor>
        <actor>IDP_Discovery</actor>
        <actor>IDP_Authorization</actor>
        <actor>IDP_Token</actor>
    </actors>
    <mainSequence>
        <step id="S1">Get Certificates from Fachdienst</step>
        <step id="S2">Get Discovery Document</step>
        <step id="S3">Choose Code Verifier</step>
        <step id="S4">Get Keys from IDP</step>
        <step id="S5">Request Authentication Challenge</step>
        <step id="S6">Confirm User Consent</step>
        <step id="S7">Sign Challenge</step>
        <step id="S8">Request Authorization Code with Signed Challenge</step>
        <step id="S9">Request Authorization Code with SSO Token</step>
        <step id="S10">Request Authorization Code with Alternative Authentication</step>
        <step id="S11">Create Key Verifier</step>
        <step id="S12">Get Tokens</step>
        <step id="S13">Use Access Token at Fachdienst</step>
    </mainSequence>
</useCase>
