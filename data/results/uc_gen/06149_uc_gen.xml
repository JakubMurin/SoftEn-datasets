<useCase id="UC001">
    <name>Advanced staking</name>
    <actors>
        <actor>Staker</actor>
    </actors>
    <mainSequence>
        <step id="S1">Stake with zZKPspendPubKey, zZKPcipherText, PRPspendPubKey, PRPcipherText</step>
        <step id="S2">Create stake</step>
        <step id="S3">Transfer stakedAmount from staker to Staking</step>
        <step id="S4">Send stakedAmount</step>
        <step id="S5">Check if _terms.isRewarded</step>
        <step id="S6">Send staked message</step>
        <step id="S7">Call onAction on RewardMaster</step>
        <step id="S8">Get reward advice from AdvancedStakeController</step>
        <step id="S9">Check amount in AdvancedStakeController</step>
        <step id="S10">Transfer rewardAmount from treasury to MASP</step>
        <step id="S11">Deposit for zZKPspendPubKey, zZKPcipherText, PRPspendPubKey, PRPcipherText in Pool</step>
        <step id="S12">Check events emitted by Pool</step>
    </mainSequence>
</useCase>
