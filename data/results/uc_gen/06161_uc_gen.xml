<useCase id="UC1">
    <name>Create Data Package</name>
    <actors>
        <actor>client</actor>
        <actor>DataPackageManagerResource</actor>
        <actor>Creator</actor>
        <actor>DataPackageManager</actor>
        <actor>DataManagerClient</actor>
        <actor>EMLDataManager</actor>
        <actor>DataManager</actor>
        <actor>EMLDataPackage</actor>
        <actor>EML200</actor>
        <actor>DocumentBuilder</actor>
        <actor>DataPackage</actor>
        <actor>QualityReport</actor>
        <actor>QualityCheck</actor>
        <actor>SolrMetadataCatalog</actor>
    </actors>
    <mainSequence>
        <step id="S1">client creates a data package</step>
        <step id="S2">Creator runs</step>
        <step id="S3">Creator creates a data package</step>
        <step id="S4">DataPackageManager creates a data package</step>
        <step id="S5">DataPackageManager parses EML data</step>
        <step id="S6">DataPackageManager checks data package quality</step>
        <step id="S7">DataPackageManager creates EML data package</step>
        <step id="S8">DataPackageManager checks entity existence</step>
        <step id="S9">DataPackageManager checks if data package is deactivated</step>
        <step id="S10">DataPackageManager checks if data package already exists</step>
        <step id="S11">DataPackageManager checks if data package is being processed</step>
        <step id="S12">DataPackageManager creates auxiliary data package</step>
        <step id="S13">DataPackageManager adds data package</step>
        <step id="S14">DataPackageManager checks for conflicting reservation</step>
        <step id="S15">DataPackageManager confirms metadata validity</step>
        <step id="S16">DataPackageManager creates data entities</step>
        <step id="S17">DataPackageManager downloads entities</step>
        <step id="S18">DataPackageManager loads entities</step>
        <step id="S19">DataPackageManager stores metadata</step>
        <step id="S20">DataPackageManager parses EML data</step>
        <step id="S21">DataPackageManager generates Dublin Core metadata</step>
        <step id="S22">DataPackageManager inserts metadata into Solr</step>
        <step id="S23">DataPackageManager inserts provenance record</step>
        <step id="S24">DataPackageManager registers DOI</step>
        <step id="S25">DataPackageManager removes data package from processing list</step>
    </mainSequence>
</useCase>
