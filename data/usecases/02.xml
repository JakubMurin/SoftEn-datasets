<?xml version="1.0" encoding="UTF-8"?>
<useCase id="dronology-UC2">
    <name>Deliver item to a specific location</name>
    <description>UAV(s) are dispatched to deliver an item to a target location.</description>
    
    <primaryActors>
        <actor>Drone Commander</actor>
        <actor>Dispatcher</actor>
    </primaryActors>
    <supportingActors>
        <actor>Emergency Responders</actor>
    </supportingActors>

    <preconditions>
        <precondition>DroneResponse system is active</precondition>
        <precondition>UAVs equipped with carry mechanism</precondition>
        <precondition>UAVs are able to carry required payload</precondition>
    </preconditions>

    <successEndConditions>
        <condition>The item is successfully delivered to the intended target</condition>
    </successEndConditions>
    <failureEndConditions>
        <condition>The UAV fails to reach the target coordinates</condition>
        <condition>The UAV reaches the target coordinates but drops the item incorrectly (e.g., on top of a victim, in an unreachable location)</condition>
    </failureEndConditions>

    <trigger>The UAV receives a command to deliver an item</trigger>
    
    <mainSequence>
        <step id="S1">The delivery UAVs are activated and armed.</step>
        <step id="S2">The Drone Commander selects target GPS coordinates from a map.</step>
        <step id="S3">The UAV requests flight authorization.</step>
        <step id="S4">The DroneResponse commander issues a command to start the delivery mission.</step>
        <step id="S5">The UAV performs synchronized takeoff.</step>
        <step id="S6">The UAV flies to the target destination.</step>
        <step id="S7">The UAV drops the item.</step>
        <step id="S8">The UAV establishes a safe flying altitude and sets its target destination to its home coordinates, then flies to the target destination.</step>
        <step id="S9">Once the UAV arrives at its home coordinates, it lands.</step>
    </mainSequence>

    <alternativeSteps>
        <asteps id="A1" start="S2">
            <step id="A1S1">Instead of the operator entering GPS coordinates, the coordinates are generated by a UAV based on its onboard vision.</step>
        </asteps>
        <asteps id="A2" start="S8">
            <step id="A2S1">Instead of flying home, the operator provides coordinates for an alternate safe landing location in the vicinity of the delivery.</step>
        </asteps>
    </alternativeSteps>

    <errorSteps>
        <esteps id="E1" start="S2">
            <description>Instead of using a map, the operator manually enters GPS coordinates.</description>
            <step id="E1S1">The use case continues with step 3.</step>
        </esteps>
    </errorSteps>
</useCase>
