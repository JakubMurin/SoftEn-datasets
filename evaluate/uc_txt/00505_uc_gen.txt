1. User places an order and initiates payment.
2. Merchant system generates platform order.
3. Merchant system requests order creation from WeChat payment system.
4. WeChat payment system generates prepay order.
5. WeChat payment system returns prepay order identifier to the merchant system.
6. Merchant system generates signed payment information.
7. User initiates payment to the merchant system.
8. User triggers WeChat payment.
9. WeChat client initiates payment request to WeChat payment system.
10. WeChat payment system verifies payment authorization.
11. WeChat payment system returns payment authorization to the user.
12. User confirms payment and enters password.
13. WeChat payment system submits authorization.
14. WeChat payment system verifies authorization.
15. WeChat payment system notifies the merchant system of payment status.
16. Merchant system saves payment notification.
17. Merchant system informs successful processing to WeChat payment system.
18. WeChat payment system returns payment result to the user and sends a notification.
19. User queries payment status from the merchant system.
20. Merchant system checks payment status by calling the query interface of WeChat payment system.
21. WeChat payment system returns payment status to the merchant system.
22. WeChat payment system displays payment message to the user.
